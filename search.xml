<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>bzc</title>
      <link href="/2022/05/21/bzc/"/>
      <url>/2022/05/21/bzc/</url>
      
        <content type="html"><![CDATA[<p><font size=5 color=red><b>redis命令大全请查看redis官网：<a href="https://www.redis.net.cn/order/">https://www.redis.net.cn/order/</a></b></font></p><div align=center><HR style="border:1 dashed #987cb9" width="100%" color=black SIZE=5 align=center></HR></div><h2 id="1-String类型"><a href="#1-String类型" class="headerlink" title="1.String类型"></a><strong>1.String类型</strong></h2><ul><li>String数据类型是redis中使用最多的数据类型，也是操作最简单的数据类型。</li><li>string类型是二进制安全的：意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象 。</li><li>string类型是Redis最基本的数据类型，一个redis中字符串value最多可以是512M。</li></ul><h3 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h3><ol><li>设置值，获取值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">set</span> key01 value01 OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> key01<span class="token string">"value01"</span></code></pre><ol start="2"><li>获取所有值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> keys <span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"key02"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"key03"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"key01"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="3"><li>判断key是否存在</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> exists key1<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> exists key01<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="4"><li>追加字符串，如果字符串不存在则为set值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> append key01 baizhichao<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">17</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> key01<span class="token string">"value01baizhichao"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="5"><li>获得字符串长度</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> strlen key01<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">17</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><h3 id="扩展操作"><a href="#扩展操作" class="headerlink" title="扩展操作"></a>扩展操作</h3><ol><li>自增</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">set</span> view <span class="token number">0</span>OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> incr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> incr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> incr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> view<span class="token string">"3"</span></code></pre><ol start="2"><li>自减</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> decr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> decr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> decr view<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> view<span class="token string">"0"</span></code></pre><ol start="3"><li>自定义自增值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> incrby view <span class="token number">10</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> incrby view <span class="token number">10</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">20</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> view<span class="token string">"20"</span></code></pre><ol start="4"><li>自定义自减值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> view<span class="token string">"20"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> decrby view <span class="token number">5</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">15</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> decrby view <span class="token number">5</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">10</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> view<span class="token string">"10"</span></code></pre><ol start="5"><li>截取字符串（原址不变），返回结果（下标索引从零开始）</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">set</span> str01 baizhichaoloveliqiOK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> str01<span class="token string">"baizhichaoloveliqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> getrange str01 <span class="token number">0</span> <span class="token number">3</span><span class="token string">"baiz"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> getrange str01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token string">"baizhichaoloveliqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> str01<span class="token string">"baizhichaoloveliqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="6"><li>字符串替换</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> str01<span class="token string">"baizhichaoloveliqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> setrange str01 <span class="token number">1</span> <span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">18</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> str01<span class="token string">"b******haoloveliqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="7"><li>设置值并设置过期时间</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> setex str <span class="token number">30</span> strwithexpireOK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ttl str<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">24</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ttl str<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">23</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ttl str<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">20</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ttl str<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">18</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ttl str<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">2</span></code></pre><ol start="8"><li>不存在值再设置值（常用于分布式锁）</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> setnx str04 xiaobai  # 不存在则设置成功返回<span class="token number">1</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> setnx str04 xiaobai  # key存在则设置失败返回<span class="token number">0</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="9"><li>批量设值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> mset k01 v01 k02 v02 k03 v03OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> k01<span class="token string">"v01"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> k02<span class="token string">"v02"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> k03<span class="token string">"v03"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> mget k01 k02 k03<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"v01"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v02"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"v03"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> msetnx k01 v001 k04 v04  # 原子操作，有一个不成功则都不成功<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> msetnx k05 v05 k04 v04  # 原子操作，全部成功才会成功<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="10"><li>存取对象</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">set</span> user<span class="token punctuation">:</span><span class="token number">1</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span>baizhichao<span class="token punctuation">,</span>addr<span class="token punctuation">:</span>harbin<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> # 存放json格式的对象OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> user<span class="token punctuation">:</span><span class="token number">1</span><span class="token string">"&amp;#123;name:baizhichao,addr:harbin&amp;#125;"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> mset user<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span>name liqi user<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span>addr jiamusiOK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> user<span class="token punctuation">:</span><span class="token number">1</span><span class="token string">"&amp;#123;name:baizhichao,addr:harbin&amp;#125;"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> user<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span>name<span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> user<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span>name<span class="token string">"liqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> user<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span>addr<span class="token string">"jiamusi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span></code></pre><ol start="11"><li>get&amp;set（获取并存储）</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> keys <span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"user:2:name"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"user:1"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"user:3:addr"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"key01"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> key01<span class="token string">"v02"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> getset key01 baizhichao  # 返回原值，设置新值<span class="token string">"v02"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> key02<span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> getset key02 liqi  ## 没有该key值，返回空，并设置新值<span class="token punctuation">(</span>nil<span class="token punctuation">)</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> <span class="token keyword">get</span> key02<span class="token string">"liqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><h3 id="String类型使用场景"><a href="#String类型使用场景" class="headerlink" title="String类型使用场景"></a>String类型使用场景</h3><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span> 统计浏览量<span class="token number">2</span><span class="token punctuation">.</span> 统计粉丝数<span class="token number">3</span><span class="token punctuation">.</span> 缓存对象信息<span class="token number">4</span><span class="token punctuation">.</span> 分布式锁等</code></pre><div align=center><HR style="border:1 dashed #987cb9" width="100%" color=#green SIZE=5 align=center></HR></div><h2 id="2-List类型"><a href="#2-List类型" class="headerlink" title="2.List类型"></a><strong>2.List类型</strong></h2><ul><li>存储多个数据，并对所存储的数据进行排序</li><li>底层使用双向链表存储结构实现</li><li>元素有序，且可重</li><li><strong>List类型的命令都是以l开头的</strong></li></ul><p>List类型可以作为栈、队列、阻塞队列等数据结构来使用</p><h3 id="基础操作-1"><a href="#基础操作-1" class="headerlink" title="基础操作"></a>基础操作</h3><ol><li>设置值&amp;取值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpush list01 北京   # lpush 从左边设置值（默认）<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpush list01 上海<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpush list01 天津<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> llen list01        # 获取集合长度<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> rpush list01 重庆   # 从右边设置值<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> # 获取集合全部数据（<span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span> 表示全部）<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"\xe5\x8c\x97\xe4\xba\xac"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpush list01 china # 从右边设置值<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"china"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"\xe5\x8c\x97\xe4\xba\xac"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token number">2</span> # 获取指定长度区间的值（下标索引从<span class="token number">0</span>开始）<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"china"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="2"><li>移除元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"china"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"\xe5\x8c\x97\xe4\xba\xac"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpop list01# 从左边弹出第一个元素 返回值为移除的元素<span class="token string">"china"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"\xe5\x8c\x97\xe4\xba\xac"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lpop list01 <span class="token number">2</span>               # 从左边弹出指定个数的元素<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"\xe5\xa4\xa9\xe6\xb4\xa5"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe4\xb8\x8a\xe6\xb5\xb7"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> rpop list01# 从右边弹出第一个元素<span class="token number">1</span>）<span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"\xe5\x8c\x97\xe4\xba\xac"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"\xe9\x87\x8d\xe5\xba\x86"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><h3 id="扩展操作-1"><a href="#扩展操作-1" class="headerlink" title="扩展操作"></a>扩展操作</h3><ol><li>移除指定的值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>   <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrem list01 <span class="token number">1</span> a     # lrange key count value 移除指定个数的指定元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>                         # 返回移除元素的个数<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrem list01 <span class="token number">2</span> a<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="2"><li>截断集合（改变原值）</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"abc"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> ltrim list01 <span class="token number">0</span> <span class="token number">1</span>   # 按照指定区间截断集合元素（原址有已经改变）OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"abc"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span></code></pre><ol start="3"><li>移除最后一个元素放到新的集合中</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>   # 原有集合<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"abc"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list02 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span>   # 空集合<span class="token punctuation">(</span>empty array<span class="token punctuation">)</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> rpoplpush list01 list02  # 右边弹出元素压入list02左边<span class="token string">"d"</span>                                  # 返回弹出元素值<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"abc"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list02 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="4"><li>集合元素的替换</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"abc"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lset list03 <span class="token number">0</span> bzc# 不存在该集合会报错<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR no such key<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lset list01 <span class="token number">0</span> name# 替换指定索引的元素OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lset list01 <span class="token number">1</span> name# 索引不对会报错<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR index out <span class="token keyword">of</span> range<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="5"><li>插入元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> linsert list01 before name baizhichao # 在指定元素前插入元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"baizhichao"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> linsert list01 after name liqi  # 在指定元素后插入元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> lrange list01 <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"baizhichao"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"name"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"liqi"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><h3 id="List类型使用场景"><a href="#List类型使用场景" class="headerlink" title="List类型使用场景"></a>List类型使用场景</h3><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span> 作为消息队列<span class="token number">2</span><span class="token punctuation">.</span> 作为栈<span class="token number">3</span><span class="token punctuation">.</span> 按顺序展示数据</code></pre><div align=center><HR style="border:1 dashed #987cb9" width="100%" color=#green SIZE=5 align=center></HR></div><h2 id="3-Hash类型"><a href="#3-Hash类型" class="headerlink" title="3.Hash类型"></a><strong>3.Hash类型</strong></h2><ul><li>对一系列存储的数据进行编组，方便管理，典型应用存储对象信息</li><li>一个存储空间保存多个键值对数据</li><li>底层使用哈希表结构实现数据存储</li><li>如果存储元素较少，存储结构优化为类数组结构</li><li>如果存储元素较多，存储结构使用HashMap结构</li><li><strong>Hash类型的命令以h开头</strong></li></ul><p>Hash类型存储元素格式为：hset    key(hash表名字)       field (元素键值)      value(元素值)</p><h3 id="基础操作-2"><a href="#基础操作-2" class="headerlink" title="基础操作"></a>基础操作</h3><ol><li>添加元素&amp;获取元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hset myhash f01 v01# 添加元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hset myhash f02 v02<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hset myhash f03 v03<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hgetall myhash#获取全部元素<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"f01"</span>  # field值<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v01"</span>  # value值<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"f02"</span>  # field值<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"v02"</span>  # value值<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f03"</span><span class="token number">6</span><span class="token punctuation">)</span> "v03<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hget myhash f01# 获取单个元素<span class="token string">"v01"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hget myhash f02<span class="token string">"v02"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hget myhash f03<span class="token string">"v03"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hmset myhash f04 v04 f05 v05 # 批量添加元素OK<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hgetall myhash <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"f01"</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v01"</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"f02"</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"v02"</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f03"</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"v03"</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"f04"</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"v04"</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">"f05"</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">"v05"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hdel myhash f01# 删除hash表中元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span></code></pre><ol start="2"><li>获取元素个数</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hlen myhash <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span></code></pre><ol start="3"><li>判断hash表中指定元素是否存在</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hexists myhash f01  <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hexists myhash f10<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hkeys myhash  # 获取hash表中所有key <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"f01"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"f02"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"f03"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"f04"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f05"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hvals myhash  # 获取hash表中所有value<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"v01"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"v02"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"v03"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"v04"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"v05"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><h3 id="扩展操作-2"><a href="#扩展操作-2" class="headerlink" title="扩展操作"></a>扩展操作</h3><ol><li>增加&amp;减少元素值</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hset myhash02 inc <span class="token number">10</span>  # 设置元素指定值<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hget myhash02 inc<span class="token string">"10"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hincrby myhash02 inc <span class="token number">2</span>  # 增加元素指定值<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">12</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> hincrby myhash02 inc <span class="token operator">-</span><span class="token number">10</span>  # 减少元素指定值<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="2"><li>如果不存在则设置值，存在则不设置</li></ol><pre><code>127.0.0.1:6379&gt; hsetnx myhash02 inc 10(integer) 0127.0.0.1:6379&gt; hsetnx myhash02 inc01 10(integer) 1127.0.0.1:6379&gt; </code></pre><h3 id="Hash类型使用场景"><a href="#Hash类型使用场景" class="headerlink" title="Hash类型使用场景"></a>Hash类型使用场景</h3><p>双11活动日，销售手机充值卡的商家对移动、联通、电信的30元、 50元、 100元商品推出抢购活动，每种商品抢购上限1000张</p><p><img src="https://img-blog.csdnimg.cn/c437390e6a7d4e93a6b49888b6c1c6f7.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5bCP55m954ix5ZCD6bG85ZCW,size_20,color_FFFFFF,t_70,g_se,x_16"></p><ul><li>以<strong>商家id作为key</strong></li><li>将参与抢购的<strong>商品id作为field</strong></li><li>将参与抢购的<strong>商品数量作为对应的value</strong></li><li>抢购时使用降值的方式控制产品数量</li></ul><p>redis可以 应用于抢购，限购类、限量发放优惠卷、激活码等业务的数据存储设计</p><div align=center><HR style="border:1 dashed #987cb9" width="100%" color=#green SIZE=5 align=center></HR></div><h2 id="4-Set类型"><a href="#4-Set类型" class="headerlink" title="4.Set类型"></a><strong>4.Set类型</strong></h2><ul><li>存储大量的数据，在查询方面提供更高的效率</li><li>能够保存大量的数据，高效的内部存储机制，便于查询</li><li><strong>与hash存储结构完全相同，仅存储键，不存储值（ nil），并且值是不允许重复的</strong></li><li><strong>Set类型的命令以s开头</strong></li></ul><h3 id="基础操作-3"><a href="#基础操作-3" class="headerlink" title="基础操作"></a>基础操作</h3><ol><li>添加元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sadd myset a b c  # 批量添加元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset    # 获取全部<span class="token keyword">set</span>集合元素<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">3</span><span class="token punctuation">)</span> "c<span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sadd myset d      # 添加单个元素<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"c"</span></code></pre><ol start="2"><li>获取元素个数</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> scard myset<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="3"><li>移除元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> scard myset<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srem myset a b<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> scard myset<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><h3 id="扩展操作-3"><a href="#扩展操作-3" class="headerlink" title="扩展操作"></a>扩展操作</h3><ol><li>随机抽取元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srandmember myset   # 随机抽取 默认一个<span class="token string">"e"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srandmember myset <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srandmember myset <span class="token string">"d"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srandmember myset <span class="token number">2</span>  # 随机抽取两个<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> srandmember myset <span class="token number">2</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span></code></pre><ol start="2"><li>随机删除元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> spop myset<span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> spop myset <span class="token number">2</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="3"><li>移动元素到另一个集合</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset02        # 目标集合可以不存在<span class="token punctuation">(</span>empty array<span class="token punctuation">)</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smove myset myset02 d   # 移动指定元素到目标集合<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset02<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sadd myset a b c <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smove myset myset02 a b # 不支持批量移动，会报错<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR wrong number <span class="token keyword">of</span> arguments <span class="token keyword">for</span> <span class="token string">'smove'</span> command"</code></pre><ol start="4"><li>交集&amp;并集&amp;差集</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset01<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> smembers myset02<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sdiff myset01 myset02# 差集<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sinter myset01 myset02# 交集<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> sunion myset01 myset02# 并集<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"c"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><h3 id="Set类型使用场景"><a href="#Set类型使用场景" class="headerlink" title="Set类型使用场景"></a>Set类型使用场景</h3><pre class=" language-js"><code class="language-js">微博，微信共同好友（交集）全部好友（并集）抽奖</code></pre><h2 id="5-Zset类型"><a href="#5-Zset类型" class="headerlink" title="5.Zset类型"></a><strong>5.Zset类型</strong></h2><ul><li><strong>不重但有序（score）</strong></li><li><strong>数据排序</strong>有利于数据的有效展示，需要提供一种可以根据自身特征进行排序的方式</li><li>新的存储模型，可以保存可排序的数据</li><li><strong>在set的存储结构基础上添加可排序字段</strong></li><li><strong>Zset类型的命令以z开头</strong></li></ul><p>在set的基础上添加了一个分数值用于排序：zadd key score (排序分数)    member</p><h3 id="基础操作-4"><a href="#基础操作-4" class="headerlink" title="基础操作"></a>基础操作</h3><ol><li>添加元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zadd myzset <span class="token number">1</span> a <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zadd myzset <span class="token number">2</span> b <span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zadd myzset <span class="token number">3</span> d <span class="token number">4</span> e <span class="token number">5</span> f<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="2"><li>排序显示元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token number">10</span> byscore withscores  # 显示分数<span class="token number">0</span><span class="token operator">-</span><span class="token number">10</span>的元素并携带分数 <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"1"</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"b"</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"2"</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"d"</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"3"</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"e"</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"4"</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">"5"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token number">10</span> rev  # 倒序显示分数<span class="token number">0</span><span class="token operator">-</span><span class="token number">10</span>的元素<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token number">10</span> byscore limit <span class="token number">2</span> <span class="token number">2</span> withscores # 从第三个元素开始，显示<span class="token number">2</span>个元素<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"3"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"4"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token number">10</span> byscore limit <span class="token number">2</span> <span class="token number">1</span> withscores<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"3"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span></code></pre><ol start="3"><li>移除元素</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"a"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrem myzset a<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><ol start="4"><li>获取指定分数区间元素个数</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zrange myzset <span class="token number">0</span> <span class="token number">10</span>  byscore withscores<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"b"</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"2"</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"d"</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">"3"</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">"e"</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"4"</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"f"</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">"5"</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zcount myzset <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zcount myzset <span class="token number">2</span> <span class="token number">2</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> zcount myzset <span class="token number">2</span> <span class="token number">6</span><span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">6379</span><span class="token operator">></span> </code></pre><h3 id="Zset类型使用场景"><a href="#Zset类型使用场景" class="headerlink" title="Zset类型使用场景"></a>Zset类型使用场景</h3><pre class=" language-js"><code class="language-js">排序<span class="token operator">+</span><span class="token keyword">set</span>的应用场景</code></pre>]]></content>
      
      
      <categories>
          
          <category> redis </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/05/21/hello-world/"/>
      <url>/2022/05/21/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
